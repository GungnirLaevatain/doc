  
# 内存结构  
java虚拟机内存结构分为虚拟机内存和本地内存  
## 虚拟机内存  
虚拟机内存又分为栈(虚拟机栈和本地方法栈)、堆、程序计数器  
### 虚拟机栈
线程私有，主要存储栈帧。栈帧主要保存局部变量表、方法出口地址、操作数等信息  
当栈深度超过运行的深度时，抛出StackOverFlowError  
当内存不足，无法分配栈帧时，抛出OutOfMemoryError  
### 本地方法栈
线程私有，和虚拟机栈类似，主要是存储native方法的栈帧数据  
当栈深度超过运行的深度时，抛出StackOverFlowError  
当内存不足，无法分配栈帧时，抛出OutOfMemoryError  
### 程序计数器
线程私有，用于记录当前执行的字节码代码行号，若执行native方法，则为null  
且此处不会有OOM的异常  
### 堆
线程共有的内存区块，其主要分为字符串常量池、年轻代、老年代，其中默认条件下，年轻代和老年代为1:2的关系  
#### 年轻代
在复制算法下，年轻代分为eden区和两个survive区，其大小比为8:1:1  

## 本地内存  
本地内存分为应用使用的直接内存和替代之前方法区的元数据区  